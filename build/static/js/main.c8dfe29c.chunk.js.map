{"version":3,"sources":["services/persons.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Notification","message","error","className","Header","text","Filter","value","onChange","PersonForm","valueName","handleName","valueNumber","handleNumber","onClick","type","Persons","persons","filter","onRemove","filtered","person","name","toLowerCase","includes","map","number","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","msg","setMessage","useEffect","personServices","initialData","event","target","preventDefault","newPerson","some","window","confirm","returnedPerson","setTimeout","catch","concat","p","console","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c8dfe29c.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl,newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id,newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`,newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id,newObject) => {\n    const request = axios.delete(`${baseUrl}/${id}`,newObject)\n    return request.then(response => response.data)\n}\n\n\nexport default {getAll, create, update,remove}","import React from 'react'\n\nconst Notification = ({message,error}) => {\n    if (message === null) {\n        return null\n    }\n    if (error){\n        return(\n        <div className=\"error\">\n            {message}\n        </div>)\n    }\n    return(\n        <div className=\"msg\">\n             {message}\n        </div>\n    )\n}\n\n\nexport default Notification","import React,{useState,useEffect} from 'react'\nimport personServices from './services/persons'\nimport Notification from './components/Notification'\n\nconst Header = ({text}) => {\n  return(<h2>{text}</h2>)\n}\n\nconst Filter = ({value,onChange}) =>Â {\n  return (\n    <form>\n    Filter shows with<input\n    value={value}\n    onChange={onChange}/>\n  </form>\n  )\n}\n\nconst PersonForm = ({valueName,handleName,valueNumber,handleNumber,onClick}) => {\n  return(\n    <form>\n    <div>\n      name: <input\n      value={valueName}\n      onChange={handleName}/>\n    </div>\n    <div>\n      number: <input\n      value={valueNumber}\n      onChange={handleNumber}/>\n    </div>\n    <div>\n      <button type=\"submit\" onClick={onClick}>add</button>\n    </div>\n  </form>\n  )\n}\n\n\n\nconst Persons = ({persons,filter,onRemove}) => {\n  const filtered = persons.filter(person => person.name.toLowerCase().includes(filter))\n  return(\n    <ul>\n    {filtered.map(person =>\n    <li key={person.name}>{person.name} {person.number}\n    <button\n    value={person.id}\n    onClick={() => onRemove(person)}>delete\n    </button></li>)\n    }\n    </ul>\n  )\n}\n\nconst App = () => {\n  const [persons,setPersons] = useState([])\n  const [newName,setNewName] = useState('')\n  const [newNumber,setNewNumber] = useState('')\n  const [filter,setFilter]  = useState('')\n  const [message,setMessage] = useState({msg:null,error:false})\n  \n  \n\n  useEffect( () => {\n    personServices.getAll()\n      .then(initialData => {\n        setPersons(initialData)\n      })\n  },[])\n\n  const handleOnChangeName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleOnChangeNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleOnChangeFilter = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const addPerson = (event) =>{\n\n    event.preventDefault()\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n\n    const changeNumber = () => {\n      persons.map(person => {\n        if (person.name === newName) {\n          if (window.confirm(`${person.name} is allready in phonebook, do you want to replace the number?`)){\n            personServices.update(person.id,newPerson)\n              .then(returnedPerson => {\n                setPersons(persons.map(person => \n                  person.name !== newName ? person : returnedPerson ))\n                  setMessage({msg:`${returnedPerson.name} updated`,error:false})\n                  setTimeout(() => {\n                    setMessage({msg:null,error:false})}\n                    ,4000\n                  )\n                  }\n                )\n                .catch(error => {\n                  setMessage({msg:`Failed to update ${newName}`,error:true})\n                  setTimeout(\n                    setMessage({msg:null,error:false}),\n                    4000\n                  )\n            })\n          }\n        }\n      })\n    }\n\n    persons.some((person) => person.name === newName)\n    ? changeNumber()\n    : personServices.create(newPerson)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewNumber('')\n        setMessage({msg:`${returnedPerson.name} added to phonebook`,error:false})\n        setTimeout(() => {\n          setMessage({msg:null,error:false})}\n          ,4000\n        )\n        }\n      )\n      .catch(error => {\n        setMessage({msg:`Failed to add ${newName}`,error:true})\n        setTimeout(\n          setMessage({msg:null,error:false}),\n          4000\n        )\n      })\n      \n  }\n\n  const removePerson = (person) => {\n    if (window.confirm(`Do you want to delete ${person.name} ?`)) {\n      personServices.remove(person.id)\n      .then(() => {\n        setPersons(persons.filter(p => p.id !== person.id))\n        setMessage({msg:`${person.name} removed from phonebook`,error:false})\n        setTimeout(() => {\n          setMessage({msg:null,error:false})}\n          ,4000\n        )\n        }\n      )\n      .catch(error => {\n        console.log(\"error\")\n        setMessage({msg:`Failed to remove ${newName}. Likely removed before`,error:true})\n        setTimeout(() => {\n          setMessage({msg:null,error:false})},\n          4000\n        )\n      })\n    }\n  }\n\n\n  return(\n    <div>\n      <Header text=\"Phonebook\"/>\n      <Notification message={message.msg} error={message.error} />\n      <Filter value={filter} onChange={handleOnChangeFilter}/>\n      \n      <Header text=\"Add a new\"/>\n      \n      <PersonForm \n      valueName={newName}\n      handleName={handleOnChangeName}\n      valueNumber={newNumber}\n      handleNumber={handleOnChangeNumber}\n      onClick={addPerson}\n      />\n\n      <Header text=\"Numbers:\"/>\n      \n      <Persons \n        persons={persons}\n        filter={filter}\n        onRemove={removePerson}\n      />\n  \n    </div>\n  )\n}\n\n\nexport default App\n","import ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <App />, document.getElementById('root')\n);\n\n"],"sourceRoot":""}